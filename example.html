<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Bragi - Browser - Usage Example</title>

    <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">

</head>
<body>
    Open up your console

<script src='dist/bragi.js'></script>
<script>
    // Bragi is defined globally here since this example does not use 
    // CommonJS or RequireJS

    // Store the stack trace - NOTE: In production, this should probably be
    // set to false to avoid any slowdowns
    // Enable everything
    BRAGI.options.storeStackTrace = true;
    BRAGI.transports.get('Console').property('storeStackTrace', true)

    //// to disable:
    //BRAGI.options.storeStackTrace = false;
    //BRAGI.transports.get('Console').property('storeStackTrace', true)

    BRAGI.log('group1', 'Hello world');

    // Configuring Bragi - Groups
    BRAGI.options.groupsEnabled = [ 'group1', 'group2' ];
    BRAGI.log('group1', 'I am logged');
    BRAGI.log('group2', 'I am logged');
    BRAGI.log('group3', 'I am not');

    // Enable all logs
    BRAGI.options.groupsEnabled = true;

    // Note: when logged from a function, the name of the function will be shown
    // log some groups
    (function logFromFunc (){
        for(var i=1; i<30; i++){
            BRAGI.log('group' + i, 'This is a test for colors. props: %O', {answer: 42});
        }
    })();


    // History transport demonstration (stores all messages by type)
    BRAGI.transports.add( new BRAGI.transportClasses.History( {} ) );

    (function(){
        BRAGI.log('error', 'This is an error message');
        BRAGI.log('warn', 'Danger danger');
    })();

    // Now, history can be accessed via:
    var historyGroupName = 'error'; // or whatever group name you want
    BRAGI.log('historyExample', historyGroupName + ' history: %O', BRAGI.transports.get('History')[0].history[historyGroupName]);

</script>

</body>
</html>
